import{_ as v,aX as C,dy as k,d as u,e as c,f as p,at as h,au as y,av as B,h as a,i,v as w,E as n,x as r,l as F,q as f,F as U}from"./index-80088746.js";import{F as I}from"./FileUploader-804a7f29.js";const N={name:"InsertImage",props:["editor"],expose:["openDialog"],data(){return{addVideoDialog:{url:"",file:null,show:!1}}},components:{Button:C,Dialog:k,FileUploader:I},methods:{openDialog(){this.addVideoDialog.show=!0},onVideoSelect(e){let l=e.target.files[0];l&&(this.addVideoDialog.file=l)},addVideo(e){this.editor.chain().focus().insertContent(`<video src="${e}"></video>`).run(),this.reset()},reset(){this.addVideoDialog=this.$options.data().addVideoDialog}}},S={class:"flex items-center space-x-2"},A=["src"];function E(e,l,L,P,o,t){const s=u("Button"),V=u("FileUploader"),g=u("Dialog");return c(),p(U,null,[h(e.$slots,"default",y(B({onClick:t.openDialog}))),a(g,{options:{title:e.__("Add Video")},modelValue:o.addVideoDialog.show,"onUpdate:modelValue":l[2]||(l[2]=d=>o.addVideoDialog.show=d),onAfterLeave:t.reset},{"body-content":i(()=>[a(V,{"file-types":"video/*",onSuccess:l[0]||(l[0]=d=>o.addVideoDialog.url=d.file_url)},{default:i(({file:d,progress:_,uploading:m,openFileSelector:D})=>[w("div",S,[a(s,{onClick:D},{default:i(()=>[n(r(m?`${e.__("Uploading")} ${_}%`:o.addVideoDialog.url?e.__("Change Video"):e.__("Upload Video")),1)]),_:2},1032,["onClick"]),o.addVideoDialog.url?(c(),F(s,{key:0,onClick:()=>{o.addVideoDialog.url=null,o.addVideoDialog.file=null}},{default:i(()=>[n(r(e.__("Remove")),1)]),_:2},1032,["onClick"])):f("",!0)])]),_:1}),o.addVideoDialog.url?(c(),p("video",{key:0,src:o.addVideoDialog.url,class:"mt-2 w-full rounded-lg",type:"video/mp4",controls:""},null,8,A)):f("",!0)]),actions:i(()=>[a(s,{variant:"solid",onClick:l[1]||(l[1]=d=>t.addVideo(o.addVideoDialog.url))},{default:i(()=>[n(r(e.__("Insert Video")),1)]),_:1}),a(s,{onClick:t.reset},{default:i(()=>[n(r(e.__("Cancel")),1)]),_:1},8,["onClick"])]),_:1},8,["options","modelValue","onAfterLeave"])],64)}const q=v(N,[["render",E]]);export{q as default};
//# sourceMappingURL=InsertVideo-2a362cb7.js.map
