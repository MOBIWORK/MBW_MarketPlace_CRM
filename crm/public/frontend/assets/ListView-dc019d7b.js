import{i as _,o as n,b as c,r as f,d as a,t as L,u as t,a as m,aa as z,h as K,k as x,G as E,c as g,di as q,e as y,g as R,n as $,aA as G,_ as H,F as S,x as T,y as M,w as A,a7 as j,M as D,l as F,f as C,j as I,T as P,b8 as X,O as Z,E as J,al as Q}from"./index-fd4111d0.js";const Y={class:"flex h-full w-full flex-col items-center justify-center text-base"},ee={class:"text-xl font-medium"},te={class:"mt-1 text-base text-gray-600"},se={__name:"ListEmptyState",setup(s){const o=_("list");return(e,r)=>(n(),c("div",Y,[f(e.$slots,"default",{},()=>[a("div",ee,L(t(o).options.emptyState.title),1),a("div",te,L(t(o).options.emptyState.description),1),t(o).options.emptyState.button?(n(),m(K,z({key:0},t(o).options.emptyState.button,{class:"mt-4"}),null,16)):x("",!0)])]))}};function N(s,o=!0){let e=o?"14px ":"",r=s.map(l=>{let i=l.width||1;return typeof i=="number"?i+"fr":i}).join(" ");return e+r}const O={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},oe={class:"truncate"},le={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(s,{emit:o}){const e=s,r=o,l=E(null),i=E(null),h=g(()=>{if(typeof e.item.width=="string"){const p=parseInt(e.item.width);if(e.item.width.includes("rem"))return p*16;if(e.item.width.includes("px"))return p}return i.value.offsetWidth}),w=p=>{const W=p.clientX,u=h.value,v=U=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),l.value.style.backgroundColor="rgb(199 199 199)";let V=u+(U.clientX-W);e.item.width=`${V<50?50:V}px`,k(e.item.width)},b=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),l.value.style.backgroundColor="",window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",v),window.addEventListener("mouseup",b)},k=q(p=>{e.item.width=p,r("columnWidthUpdated")},e.debounce),d=_("list");return(p,W)=>(n(),c("div",{ref_key:"columnRef",ref:i,class:$(["group flex items-center",s.item.align?t(O)[s.item.align]:"justify-between"])},[a("div",{class:$(["flex items-center space-x-2 truncate text-sm text-gray-600",p.$attrs.class])},[f(p.$slots,"prefix",y(R({item:s.item}))),f(p.$slots,"default",{},()=>[a("div",oe,L(s.item.label),1)]),f(p.$slots,"suffix",y(R({item:s.item})))],2),t(d).options.resizeColumn?f(p.$slots,"resizer",y(z({key:0},{item:s.item})),()=>[a("div",{class:"flex h-4 w-2 cursor-col-resize justify-center",onMousedown:w},[a("div",{ref_key:"resizer",ref:l,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):x("",!0)],2))}},ne={__name:"ListHeader",emits:["columnWidthUpdated"],setup(s,{emit:o}){const e=o,r=_("list");return(l,i)=>(n(),c("div",{class:"mb-2 grid items-center space-x-4 rounded bg-gray-100 p-2",style:M({gridTemplateColumns:t(N)(t(r).columns,t(r).options.selectable)})},[t(r).options.selectable?(n(),m(H,{key:0,class:"cursor-pointer duration-300",modelValue:t(r).allRowsSelected,onClick:G(t(r).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):x("",!0),f(l.$slots,"default",{},()=>[(n(!0),c(S,null,T(t(r).columns,h=>(n(),m(le,{key:h.key,item:h,onColumnWidthUpdated:w=>e("columnWidthUpdated",h)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},re={class:"truncate text-base"},ie={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(s){const o=s,e=g(()=>r(o.item).label||"");function r(i){return i&&typeof i=="object"?i:{label:i}}const l=_("list");return(i,h)=>(n(),m(j(t(l).options.showTooltip?t(D):"div"),y(R(t(l).options.showTooltip?{text:e.value}:{})),{default:A(()=>[a("div",{class:$(["flex items-center space-x-2",t(O)[s.align]])},[f(i.$slots,"prefix",{},()=>[s.column.prefix?(n(),m(j(typeof s.column.prefix=="function"?s.column.prefix({row:s.row}):s.column.prefix),{key:0})):x("",!0)]),f(i.$slots,"default",y(R({label:e.value})),()=>{var w;return[a("div",re,L((w=s.column)!=null&&w.getLabel?s.column.getLabel({row:s.row}):e.value),1)]}),f(i.$slots,"suffix")],2)]),_:3},16))}},ae={key:0,class:"mx-2 h-px border-t border-gray-200"},B={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(s){const o=s,e=_("list"),r=g(()=>{var w;return(w=e.value.rows)!=null&&w.length?e.value.rows[e.value.rows.length-1][e.value.rowKey]===o.row[e.value.rowKey]:!1}),l=g(()=>e.value.selections.has(o.row[e.value.rowKey])),i=g(()=>e.value.options.getRowRoute||e.value.options.onRowClick),h=g(()=>typeof e.value.options.rowHeight=="number"?`${e.value.options.rowHeight}px`:e.value.options.rowHeight);return(w,k)=>(n(),m(j(t(e).options.getRowRoute?"router-link":"div"),z({class:[{"cursor-pointer":i.value},"flex flex-col transition-all duration-300 ease-in-out"]},{to:t(e).options.getRowRoute?t(e).options.getRowRoute(s.row):void 0,onClick:t(e).options.onRowClick?()=>t(e).options.onRowClick(s.row):void 0}),{default:A(()=>[(n(),m(j(t(e).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:A(()=>[a("div",{class:$(["grid items-center space-x-4 rounded px-2",[l.value?"bg-gray-100":"",i.value?l.value?"hover:bg-gray-200":"hover:bg-gray-50":""]]),style:M({height:h.value,gridTemplateColumns:t(N)(t(e).columns,t(e).options.selectable)})},[t(e).options.selectable?(n(),m(H,{key:0,modelValue:t(e).selections.has(s.row[t(e).rowKey]),onClick:k[0]||(k[0]=G(d=>t(e).toggleRow(s.row[t(e).rowKey]),["stop"])),class:"cursor-pointer duration-300"},null,8,["modelValue"])):x("",!0),(n(!0),c(S,null,T(t(e).columns,(d,p)=>(n(),c("div",{key:d.key,class:$([t(O)[d.align],p==0?"text-gray-900":"text-gray-700"])},[f(w.$slots,"default",y(R({idx:p,column:d,item:s.row[d.key]})),()=>[t(e).slots.cell?(n(),m(j(t(e).slots.cell),y(z({key:0},{column:d,row:s.row,item:s.row[d.key],align:d.align})),null,16)):(n(),m(ie,{key:1,column:d,row:s.row,item:s.row[d.key],align:d.align},null,8,["column","row","item","align"]))])],2))),128))],6),r.value?x("",!0):(n(),c("div",ae))]),_:3}))]),_:3},16,["class"]))}},ue={class:"h-full overflow-y-auto"},ce={__name:"ListRows",setup(s){const o=_("list");return(e,r)=>(n(),c("div",ue,[f(e.$slots,"default",{},()=>[(n(!0),c(S,null,T(t(o).rows,l=>(n(),m(B,{key:l[t(o).rowKey],row:l},null,8,["row"]))),128))])]))}},de={},me={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},fe=a("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1),pe=[fe];function we(s,o){return n(),c("svg",me,pe)}const ge=F(de,[["render",we]]),ye={class:"flex items-center"},he={class:"w-full py-1.5 pr-2"},ve={key:1,class:"text-base font-medium leading-6"},be=a("div",{class:"mx-2 h-px border-t border-gray-200"},null,-1),xe={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(s){const o=s,e=_("list");function r(){o.group.collapsed==null&&(o.group.collapsed=!1),o.group.collapsed=!o.group.collapsed}return(l,i)=>(n(),c(S,null,[a("div",ye,[a("button",{onClick:r,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-gray-100"},[C(ge,{class:$(["h-4 w-4 text-gray-900 transition-transform duration-200",[s.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),f(l.$slots,"default",{},()=>[a("div",he,[t(e).slots["group-header"]?(n(),m(j(t(e).slots["group-header"]),y(z({key:0},{group:s.group})),null,16)):(n(),c("span",ve,L(s.group.group),1))])])]),be],64))}},_e={key:0,class:"mb-5 mt-2"},$e={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(s){const o=_("list");return(e,r)=>s.group.collapsed?x("",!0):(n(),c("div",_e,[f(e.$slots,"default",{},()=>[(n(!0),c(S,null,T(s.group.rows,l=>(n(),m(B,{key:l[t(o).rowKey],row:l},null,8,["row"]))),128))])]))}},Re={class:"h-full overflow-y-auto"},ke={__name:"ListGroups",setup(s){const o=_("list");return(e,r)=>(n(),c("div",Re,[(n(!0),c(S,null,T(t(o).rows,l=>(n(),c("div",{key:l.group},[f(e.$slots,"default",{},()=>[C(xe,{group:l},{default:A(()=>[e.$slots["group-header"]?f(e.$slots,"group-header",y(z({key:0},{group:l}))):x("",!0)]),_:2},1032,["group"]),C($e,{group:l},null,8,["group"])])]))),128))]))}},Ce={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},Se={class:"flex flex-1 justify-between border-r border-gray-300 text-gray-900"},je={class:"flex items-center space-x-3"},Le={class:"mr-3"},ze={class:"flex items-center space-x-1"},Ae=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(s){const o=_("list");let e=g(()=>{let r=o.value.selections.size===1?"Row":"Rows";return`${o.value.selections.size} ${r} selected`});return(r,l)=>(n(),m(P,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:A(()=>[t(o).selections.size?(n(),c("div",Ce,[a("div",{class:$(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-white px-4 py-2 shadow-2xl",r.$attrs.class])},[f(r.$slots,"default",y(R({selections:t(o).selections,allRowsSelected:t(o).allRowsSelected,selectAll:()=>t(o).toggleAllRows(!0),unselectAll:()=>t(o).toggleAllRows(!1)})),()=>[a("div",Se,[a("div",je,[C(H,{modelValue:!0,disabled:!0,class:"text-gray-900"}),a("div",null,L(t(e)),1)]),a("div",Le,[f(r.$slots,"actions",y(R({selections:t(o).selections,allRowsSelected:t(o).allRowsSelected,selectAll:()=>t(o).toggleAllRows(!0),unselectAll:()=>t(o).toggleAllRows(!1)})))])]),a("div",ze,[C(K,{class:$(["w- text-gray-700",t(o).allRowsSelected?"cursor-not-allowed":""]),disabled:t(o).allRowsSelected,variant:"ghost",onClick:l[0]||(l[0]=i=>t(o).toggleAllRows(!0))},{default:A(()=>[I(" Select all ")]),_:1},8,["disabled","class"]),C(K,{icon:"x",variant:"ghost",onClick:l[1]||(l[1]=i=>t(o).toggleAllRows(!1))})])])],2)])):x("",!0)]),_:3}))}}),Te={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},Ke=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections"],setup(s,{emit:o}){const e=s,r=X();let l=Z(new Set);const i=o;J(l,u=>{i("update:selections",u)});let h=g(()=>{function u(b){return b===void 0?!0:b}function v(b){return b===void 0?!1:b}return{getRowRoute:e.options.getRowRoute||null,onRowClick:e.options.onRowClick||null,showTooltip:u(e.options.showTooltip),selectable:u(e.options.selectable),resizeColumn:v(e.options.resizeColumn),rowHeight:e.options.rowHeight||40,emptyState:e.options.emptyState}});const w=g(()=>e.rows.length?d.value?l.size===e.rows.reduce((u,v)=>u+v.rows.length,0):l.size===e.rows.length:!1),k=g(()=>h.value.selectable);let d=g(()=>e.rows.every(u=>u.group&&u.rows&&Array.isArray(u.rows)));function p(u){l.delete(u)||l.add(u)}function W(u){if(!u||w.value){l.clear();return}if(d.value){e.rows.forEach(v=>{v.rows.forEach(b=>l.add(b[e.rowKey]))});return}e.rows.forEach(v=>l.add(v[e.rowKey]))}return Q("list",g(()=>({rowKey:e.rowKey,rows:e.rows,columns:e.columns,options:h.value,selections:l,allRowsSelected:w.value,slots:r,toggleRow:p,toggleAllRows:W}))),(u,v)=>(n(),c("div",Te,[a("div",{class:$(["flex w-max min-w-full flex-col overflow-y-hidden",u.$attrs.class])},[f(u.$slots,"default",y(R({showGroupedRows:t(d),selectable:k.value})),()=>[C(ne),e.rows.length?(n(),c(S,{key:0},[t(d)?(n(),m(ke,{key:0})):(n(),m(ce,{key:1}))],64)):(n(),m(se,{key:1})),k.value?(n(),m(Ae,{key:2})):x("",!0)])],2)]))}});export{ne as _,ce as a,ie as b,B as c,Ke as d,Ae as e};
//# sourceMappingURL=ListView-dc019d7b.js.map
