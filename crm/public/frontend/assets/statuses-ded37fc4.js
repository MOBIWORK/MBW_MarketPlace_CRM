import{c as $,o as m,b as h,a as b,w as x,d as S,f as p,u as d,L as k,t as D,M as B,F as L,x as M,n as w,k as R,bd as A,O as C,aN as y,ar as I}from"./index-fd4111d0.js";import{I as V}from"./IndicatorIcon-b09272ab.js";const _={class:"flex items-center gap-2 text-base"},F={class:"truncate"},j={__name:"MultipleAvatar",props:{avatars:{type:Array,default:[]},size:{type:String,default:"md"}},setup(a){const l=a,f=$(()=>l.avatars.reverse());return(g,v)=>{var o,r,i;return(o=a.avatars)!=null&&o.length?(m(),h("div",{key:0,class:w(["mr-1.5 flex cursor-pointer items-center",[((r=a.avatars)==null?void 0:r.length)>1?"flex-row-reverse":"truncate [&>div]:truncate"]])},[((i=a.avatars)==null?void 0:i.length)==1?(m(),b(d(B),{key:0,text:a.avatars[0].name},{default:x(()=>[S("div",_,[p(d(k),{shape:"circle",image:a.avatars[0].image,label:a.avatars[0].label,size:"sm"},null,8,["image","label"]),S("div",F,D(a.avatars[0].label),1)])]),_:1},8,["text"])):(m(!0),h(L,{key:1},M(f.value,n=>(m(),b(d(B),{text:n.name,key:n.name},{default:x(()=>[p(d(k),{class:"user-avatar -mr-1.5 transform ring-2 ring-white transition hover:z-10 hover:scale-110",shape:"circle",image:n.image,label:n.label,size:a.size,"data-name":n.name},null,8,["image","label","size","data-name"])]),_:2},1032,["text"]))),128))],2)):R("",!0)}}},q=A("crm-statuses",()=>{let a=C({}),l=C({}),f=C({});const g=y({doctype:"CRM Lead Status",fields:["name","color","position"],orderBy:"position asc",cache:"lead-statuses",initialData:[],auto:!0,transform(e){for(let t of e)t.colorClass=r(t.color),t.iconColorClass=r(t.color,!0),a[t.name]=t;return e}}),v=y({doctype:"CRM Deal Status",fields:["name","color","position"],orderBy:"position asc",cache:"deal-statuses",initialData:[],auto:!0,transform(e){for(let t of e)t.colorClass=r(t.color),t.iconColorClass=r(t.color,!0),l[t.name]=t;return e}}),o=y({doctype:"CRM Communication Status",fields:["name"],cache:"communication-statuses",initialData:[],auto:!0,transform(e){for(let t of e)f[t.name]=t;return e}});function r(e,t=!1){let s=`!text-${e}-600`;e=="black"?s="!text-gray-900":["gray","green"].includes(e)&&(s=`!text-${e}-700`);let c=`!bg-${e}-100 hover:!bg-${e}-200 active:!bg-${e}-300`;return[s,t?"":c]}function i(e){return e||(e=g.data[0].name),a[e]}function n(e){return e||(e=v.data[0].name),l[e]}function N(e){return e||(e=o.data[0].name),o[e]}function z(e,t){let s=e=="deal"?l:a,c=[];for(const u in s)c.push({label:__(s[u].name),value:s[u].name,icon:()=>I(V,{class:s[u].iconColorClass}),onClick:()=>{t&&t("status",s[u].name)}});return c}return{leadStatuses:g,dealStatuses:v,communicationStatuses:o,getLeadStatus:i,getDealStatus:n,getCommunicationStatus:N,statusOptions:z}});export{j as _,q as s};
//# sourceMappingURL=statuses-ded37fc4.js.map
