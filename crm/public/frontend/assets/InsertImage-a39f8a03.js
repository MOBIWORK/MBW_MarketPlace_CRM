import{_ as I,aX as _,dB as D,dC as h,d as m,e as u,f as c,au as v,av as y,aw as C,h as n,i as s,v as i,x as r,q as w,E as p,F as B}from"./index-2f04319e.js";const b={name:"InsertImage",props:["editor"],expose:["openDialog"],data(){return{addImageDialog:{url:"",file:null,show:!1}}},components:{Button:_,Dialog:D},methods:{openDialog(){this.addImageDialog.show=!0},onImageSelect(e){let a=e.target.files[0];a&&(this.addImageDialog.file=a,h(a).then(d=>{this.addImageDialog.url=d}))},addImage(e){this.editor.chain().focus().setImage({src:e}).run(),this.reset()},reset(){this.addImageDialog=this.$options.data().addImageDialog}}},k={class:"relative cursor-pointer rounded-lg bg-gray-100 py-1 focus-within:bg-gray-200 hover:bg-gray-200"},S={class:"absolute inset-0 select-none px-2 py-1 text-base"},V=["src"];function N(e,a,d,x,o,t){const g=m("Button"),f=m("Dialog");return u(),c(B,null,[v(e.$slots,"default",y(C({onClick:t.openDialog}))),n(f,{options:{title:e.__("Add Image")},modelValue:o.addImageDialog.show,"onUpdate:modelValue":a[2]||(a[2]=l=>o.addImageDialog.show=l),onAfterLeave:t.reset},{"body-content":s(()=>[i("label",k,[i("input",{type:"file",class:"w-full opacity-0",onChange:a[0]||(a[0]=(...l)=>t.onImageSelect&&t.onImageSelect(...l)),accept:"image/*"},null,32),i("span",S,r(o.addImageDialog.file?e.__("Select another image"):e.__("Select an image")),1)]),o.addImageDialog.url?(u(),c("img",{key:0,src:o.addImageDialog.url,class:"mt-2 w-full rounded-lg"},null,8,V)):w("",!0)]),actions:s(()=>[n(g,{variant:"solid",onClick:a[1]||(a[1]=l=>t.addImage(o.addImageDialog.url))},{default:s(()=>[p(r(e.__("Insert Image")),1)]),_:1}),n(g,{onClick:t.reset},{default:s(()=>[p(r(e.__("Cancel")),1)]),_:1},8,["onClick"])]),_:1},8,["options","modelValue","onAfterLeave"])],64)}const E=I(b,[["render",N]]);export{E as default};
//# sourceMappingURL=InsertImage-a39f8a03.js.map
